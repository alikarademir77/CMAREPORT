!function(){angular.module("CMAReportApp",["ui.bootstrap"]),angular.module("CMAReportApp").config(["$httpProvider",function(a){}]),angular.module("CMAReportApp").directive("loading",["$http",function(a){return{restrict:"A",template:'<img src="img/ajax-loader.gif" style="width:20px;height:20px;"/>',link:function(b,c,d){b.isLoading=function(){return a.pendingRequests.length>0},b.$watch(b.isLoading,function(a){a?$(c).show():$(c).hide()})}}}])}(),function(){"use strict";angular.module("CMAReportApp").controller("MainCtrl",["$uibModal",function(a){var b=this;b.open=function(){a.open({templateUrl:"myModalContent.html",controller:"ModalCtrl as vm"})}}])}(),function(){"use strict";angular.module("CMAReportApp").controller("ModalCtrl",["$uibModalInstance","$scope","cmaReportService",function(a,b,c){var d=this;d.formData={api_key:"c24e1fced8ef3892d9adbc8e83b59efd"},d.buttonClicked=!1,d.close=function(){a.close()},d.resetServerError=function(){d.serverError=null},d.resetServerError(),d.getFreeReportNow=function(a){d.resetServerError(),d.buttonClicked=!0,a.$invalid||(a.$setPristine(),d.buttonClicked=!1,c.createReport(d.formData).success(function(a){d.close()}).error(function(a,b,c,e){d.serverError=a}))}}])}(),function(){angular.module("CMAReportApp").factory("cmaReportService",["$http",function(a){return{createReport:function(b){apiKey="c24e1fced8ef3892d9adbc8e83b59efd",agentEmail="leahjbach@gmail.com",emailTo=b.email,name=b.name,address=b.address,months_back=6,min_listings=10,email_subject="Your Home Valuation Report";var c="http://cors-anywhere.herokuapp.com/http://cloudcma.com/cmas/widget",d={api_key:apiKey,email_to:emailTo,name:name,address:address,months_back:months_back,min_listings:min_listings,email_subject:email_subject};return a.post(c,d)}}}])}();